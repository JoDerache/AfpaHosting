{% include 'base.html.twig' %}
{% include 'shared/header.html.twig' %}
{% include 'shared/sidebar.html.twig' %}

{# <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<link href="https://unpkg.com/gijgo@1.9.14/css/gijgo.min.css" rel="stylesheet" type="text/css" /> #}

{% block stylesheets %}
    {{ encore_entry_link_tags('app') }}
{% endblock %}

{% block body %}
    <main id="main" class="main mt-5">
        <section class="section profile">
            <div class="row">
                <div class="col-xl">
                    <div class="card mt-5">
                        <div
                                class="card-body pt-3">

                            <!-- Onglets -->
                            <ul class="nav nav-tabs nav-tabs-bordered">
                                <li class="nav-item">
                                    <button class="nav-link active" data-bs-toggle="tab"
                                            data-bs-target="#profile-overview">Profil
                                    </button>
                                </li>
                                <li class="nav-item">
                                    <button class="nav-link" data-bs-toggle="tab" data-bs-target="#profile-edit">
                                        Modifier le profil
                                    </button>
                                </li>
                            </ul>

                            <!-- Profil -->
                            <div class="tab-content pt-2">
                                <div class="tab-pane fade show active profile-overview" id="profile-overview">

                                    <h5 class="card-title mt-3 mb-0"> {{ personne.nom }} {{ personne.prenom }}</h5>
                                    <div
                                            class="card-body profile-card pt-4 d-flex flex-column">
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Lieu de résidence</div>
                                        <div class="col-lg-9 col-md-8">{{ personne.adressePostale }}</div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Date de Naissance</div>
                                        <div class="col-lg-9 col-md-8">{{ personne.dateNaissance ? personne.dateNaissance|date('d/m/Y') : '' }}</div>
                                    </div>

                                    {% if participation.idFormation is defined %}

                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Formation</div>
                                            <div class="col-lg-9 col-md-8">{{ participation.idFormation.nomFormation }}</div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Date d'entrée en formation</div>
                                            <div class="col-lg-9 col-md-8">{{ participation.dateEntree ? participation.dateEntree|date('d/m/Y') : '' }}</div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Date de fin de formation</div>
                                            <div class="col-lg-9 col-md-8">{{ participation.dateSortie ? participation.dateSortie|date('d/m/Y') : '' }}</div>
                                        </div>

                                    {% else %}
                                        <div class="row">
                                            <div class="col-lg-3 col-md-4 label">Formation</div>
                                            <div class="col-lg-9 col-md-8 textInfo">Pas de formation en cours</div>
                                        </div>
                                    {% endif %}

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Téléphone</div>
                                        <div class="col-lg-9 col-md-8">{{ personne.telephone }}</div>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-4 label">Email</div>
                                        <div class="col-lg-9 col-md-8">{{ personne.mail }}</div>
                                    </div>

                                </div>

                                <div
                                        class="tab-pane fade profile-edit pt-3" id="profile-edit">

                                    <!-- Edition profil -->
                                    <form name="personne" method="post">
                                        {{ form_start(form) }}

                                        <div class="row mb-3">
                                            <label for="Nom"
                                                   class="col-md-4 col-lg-3 col-form-label">{{ form_label(form.nom) }}</label>
                                            <div class="col-md-8 col-lg-9">
                                                {{ form_widget(form.nom) }}
                                            </div>
                                        </div>

                                        <div class="row mb-3">
                                            <label for="Prenom"
                                                   class="col-md-4 col-lg-3 col-form-label">{{ form_label(form.prenom) }}</label>
                                            <div class="col-md-8 col-lg-9">
                                                {{ form_widget(form.prenom) }}
                                            </div>
                                        </div>

                                        <div class="row mb-3">
                                            <label for="Address"
                                                   class="col-md-4 col-lg-3 col-form-label">{{ form_label(form.adressePostale) }}</label>
                                            <div class="col-md-8 col-lg-9">
                                                {{ form_widget(form.adressePostale) }}
                                            </div>
                                        </div>

                                        <div class="row mb-3">
                                            <label for="Phone"
                                                   class="col-md-4 col-lg-3 col-form-label">{{ form_label(form.telephone) }}</label>
                                            <div class="col-md-8 col-lg-9">
                                                {{ form_widget(form.telephone) }}
                                            </div>
                                        </div>

                                        <div class="row mb-3">
                                            <label for="Badge"
                                                   class="col-md-4 col-lg-3 col-form-label">{{ form_label(form.badge) }}</label>
                                            <div class="col-md-8 col-lg-9">
                                                {{ form_widget(form.badge) }}
                                            </div>
                                        </div>

                                        <div class="row mb-3">
                                            <label for="Date de naissance"
                                                   class="col-md-4 col-lg-3 col-form-label">{{ form_label(form.dateNaissance) }}</label>
                                            <div class="col-md-8 col-lg-9">
                                                {{ form_widget(form.dateNaissance) }}
                                            </div>
                                        </div>

                                        <div class="row mb-3">
                                            <label for="Lieu de naissance"
                                                   class="col-md-4 col-lg-3 col-form-label">{{ form_label(form.lieuNaissance) }}</label>
                                            <div class="col-md-8 col-lg-9">
                                                {{ form_widget(form.lieuNaissance) }}
                                            </div>
                                        </div>

                                        <div class="text-center"></div>
                                        <div class="endFooter">
                                            {{ form_end(form) }}
                                            <a href="{{ path('app_personne_index') }}" class="btn btn-secondary"
                                               role="button">Retour</a>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

{% endblock %}